"use strict";(self.webpackChunkwonderfullcity_crm=self.webpackChunkwonderfullcity_crm||[]).push([[458],{6458:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var d=s(5043),i=s(4954),r=s(4435),a=s(1802),n=s(6059),l=s(8914),o=s(7407),c=s(1966),u=s(4556),h=s(6213),p=s(3216),A=s(579);const x=e=>{let{data:t,deleteHandle:s}=e;const d=(0,u.wA)(),x=(0,p.Zp)(),j=[{title:"\u0418\u043c\u044f",dataIndex:"name",id:"name",render:e=>(0,A.jsx)("p",{children:e})},{title:"\u0421\u043b\u043e\u0442",dataIndex:"slot",id:"slot",render:e=>(0,A.jsx)("p",{children:null===e||void 0===e?void 0:e.name})},{title:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",dataIndex:"image",id:"image",render:e=>(0,A.jsx)(i.A,{width:50,src:"".concat("http://95.46.96.124/","/").concat(null===e||void 0===e?void 0:e.path)})},{title:"Action",id:"action",render:(e,t)=>(0,A.jsxs)(r.A,{size:20,children:[(0,A.jsx)(a.A,{onClick:()=>{return e=t.id,localStorage.setItem("editDataId",e),d({type:h.aT,payload:e}),void x("/house/add");var e},type:"primary",icon:(0,A.jsx)(o.A,{}),children:"Edit"}),(0,A.jsx)(n.A,{title:"Are you sure to delete this task?",description:"Delete the task ",onConfirm:()=>(async e=>{s("/House",e)})(t.id),children:(0,A.jsx)(a.A,{type:"danger",icon:(0,A.jsx)(c.A,{}),children:"Delete"})})]})}];return(0,A.jsx)("div",{children:(0,A.jsx)(l.A,{columns:j,dataSource:t,rowKey:e=>e.id})})};var j=s(8193),m=s(9800),y=s(1645),v=s(6558),g=s(5397),w=s(5337),f=s(9888),k=s(2907);const C=()=>{const e=(0,p.Zp)(),t=(0,u.wA)(),{mutate:s,isSuccess:i,isLoading:n}=(0,k.useMutation)((e=>{let{url:t,id:s}=e;return f.A.deleteData(t,s)}),{onSuccess:()=>{j.Ay.success("Success")},onError:e=>{j.Ay.error(e.message)}}),{data:l,isLoading:o,refetch:c}=(0,k.useQuery)("house-get",(()=>f.A.getData("/House")),{onError:e=>{j.Ay.error(e.message)}}),[C,S]=(0,d.useState)([]),[D,I]=(0,d.useState)(!1);(0,d.useEffect)((()=>{i&&c()}),[i]);return(0,A.jsx)("div",{className:"site-space-compact-wrapper",children:(0,A.jsxs)(r.A,{direction:"vertical",style:{width:"100%"},children:[(0,A.jsxs)(m.A,{gutter:20,children:[(0,A.jsx)(y.A,{span:16,children:(0,A.jsx)(v.A,{onChange:e=>(e=>{var t;I(""!==e);const s=null===l||void 0===l||null===(t=l.result)||void 0===t?void 0:t.filter((t=>t.name.toLowerCase().includes(e.toLowerCase())));S(s)})(e.target.value)})}),(0,A.jsx)(y.A,{span:8,children:(0,A.jsx)(a.A,{type:"primary",icon:(0,A.jsx)(w.A,{}),style:{width:"100%"},onClick:()=>{t({type:h.aT,payload:""}),e("/house/add")},children:"Add"})})]}),(0,A.jsx)(g.A,{size:"medium",spinning:o||n,children:(0,A.jsx)(x,{data:D?C:null===l||void 0===l?void 0:l.result,deleteHandle:(e,t)=>{s({url:e,id:t})}})})]})})}}}]);
//# sourceMappingURL=458.6e4f9017.chunk.js.map