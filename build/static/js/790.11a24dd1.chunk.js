"use strict";(self.webpackChunkwonderfullcity_crm=self.webpackChunkwonderfullcity_crm||[]).push([[790],{4790:(e,t,r)=>{r.r(t),r.d(t,{default:()=>k});var d=r(5043),i=r(768),a=r(4954),s=r(4435),n=r(1802),c=r(6059),l=r(8914),o=r(7407),u=r(1966),p=r(4556),h=r(6213),m=r(3216),x=r(579);const A=e=>{let{data:t,deleteHandle:r}=e;const d=(0,p.wA)(),A=(0,m.Zp)(),j=[{title:"\u0418\u043c\u044f",dataIndex:"name",id:"name",render:e=>(0,x.jsx)("p",{children:e})},{title:"\u041f\u043b\u043e\u0449\u0430\u0434\u044c",dataIndex:"size",id:"size",render:e=>(0,x.jsxs)("p",{children:[e,"\u043c\xb2"]})},{title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u043e\u043c\u0435\u0440\u043e\u0432",dataIndex:"roomCount",id:"roomCount",render:e=>(0,x.jsx)("p",{children:e})},{title:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u043e\u043c\u0435\u0440\u0430",dataIndex:"price",id:"price",render:e=>(0,x.jsxs)("p",{children:[e,"$"]})},{title:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440\u0430",dataIndex:"status",id:"status",render:e=>(0,x.jsx)(i.A,{color:0===e?"#0232f6":1===e?"#f5c306":"#ff0000",children:0===e?"Empty":1===e?"Busied":"Buyed"})},{title:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043a\u043e\u043c\u043d\u0430\u0442\u044b",dataIndex:"homeImage",id:"homeImage",render:e=>(0,x.jsx)(a.A,{width:50,src:"".concat("http://95.46.96.124/","/").concat(null===e||void 0===e?void 0:e.path)})},{title:"Action",id:"action",render:(e,t)=>(0,x.jsxs)(s.A,{size:20,children:[(0,x.jsx)(n.A,{onClick:()=>{return e=t.id,localStorage.setItem("editDataId",e),d({type:h.aT,payload:e}),void A("/apartment/add");var e},type:"primary",icon:(0,x.jsx)(o.A,{}),children:"Edit"}),(0,x.jsx)(c.A,{title:"Are you sure to delete this task?",description:"Delete the task ",onConfirm:()=>(async e=>{r("/Apartment",e)})(t.id),children:(0,x.jsx)(n.A,{type:"danger",icon:(0,x.jsx)(u.A,{}),children:"Delete"})})]})}];return(0,x.jsx)("div",{children:(0,x.jsx)(l.A,{columns:j,dataSource:t,rowKey:e=>e.id})})};var j=r(8193),y=r(9800),v=r(1645),f=r(6558),g=r(5397),w=r(5337),C=r(9888),I=r(2907);const k=()=>{const e=(0,m.Zp)(),t=(0,p.wA)(),{mutate:r,isSuccess:i,isLoading:a}=(0,I.useMutation)((e=>{let{url:t,id:r}=e;return C.A.deleteData(t,r)}),{onSuccess:()=>{j.Ay.success("Success")},onError:e=>{j.Ay.error(e.message)}}),{data:c,isLoading:l,refetch:o}=(0,I.useQuery)("apartment-get",(()=>C.A.getData("/Apartment")),{onError:e=>{j.Ay.error(e.message)}}),[u,k]=(0,d.useState)([]),[S,D]=(0,d.useState)(!1);(0,d.useEffect)((()=>{i&&o()}),[i]);return(0,x.jsx)("div",{className:"site-space-compact-wrapper",children:(0,x.jsxs)(s.A,{direction:"vertical",style:{width:"100%"},children:[(0,x.jsxs)(y.A,{gutter:20,children:[(0,x.jsx)(v.A,{span:16,children:(0,x.jsx)(f.A,{onChange:e=>(e=>{var t;D(""!==e);const r=null===c||void 0===c||null===(t=c.item1)||void 0===t?void 0:t.filter((t=>t.name.toLowerCase().includes(e.toLowerCase())));k(r)})(e.target.value)})}),(0,x.jsx)(v.A,{span:8,children:(0,x.jsx)(n.A,{type:"primary",icon:(0,x.jsx)(w.A,{}),style:{width:"100%"},onClick:()=>{t({type:h.aT,payload:""}),e("/apartment/add")},children:"Add"})})]}),(0,x.jsx)(g.A,{size:"medium",spinning:l||a,children:(0,x.jsx)(A,{data:S?u:null===c||void 0===c?void 0:c.item1,deleteHandle:(e,t)=>{r({url:e,id:t})}})})]})})}}}]);
//# sourceMappingURL=790.11a24dd1.chunk.js.map