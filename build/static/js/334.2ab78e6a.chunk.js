"use strict";(self.webpackChunkwonderfullcity_crm=self.webpackChunkwonderfullcity_crm||[]).push([[334],{4268:(e,r,t)=>{t.d(r,{A:()=>n});t(5043);var s=t(289),i=t(6558),a=t(579);const n=e=>{let{label:r,name:t,required:n,required_text:d,warning:l}=e;return(0,a.jsx)(s.A.Item,{label:l?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:r}),(0,a.jsx)("br",{}),(0,a.jsx)("p",{children:l})]}):(0,a.jsx)("div",{children:r}),name:t,rules:[{required:n,message:d}],children:(0,a.jsx)(i.A,{})})}},8334:(e,r,t)=>{t.r(r),t.d(r,{default:()=>w});var s=t(289),i=t(8193),a=t(4435),n=t(1802),d=t(4124),l=t(9800),c=t(1645),o=t(8914),u=t(7407),x=t(2289),h=t(5043),p=t(9888),j=t(2907),m=t(4268),A=t(6178),f=t.n(A),v=t(579);const y={title_uz:"",title_ru:"",sub_category:[]},g=e=>{let{data:r,refetch:t}=e;const[A]=s.A.useForm(),[g,b]=(0,h.useState)(!1),[w,C]=(0,h.useState)(null),{mutate:_,data:k,isLoading:S,isSuccess:q}=(0,j.useMutation)((e=>{let{url:r,data:t,id:s}=e;return p.A.editData(r,t,s)}),{onSuccess:()=>{i.Ay.success("Success")},onError:e=>{for(let r in e.response.data)i.Ay.error("".concat(r,": ").concat(e.response.data[r][0]))}}),D=e=>{_({url:"/Kurs",data:e,id:w})};(0,h.useEffect)((()=>{q&&(b(!1),A.setFieldsValue(y),t())}),[k]);const F=[{title:"\u0426\u0435\u043d\u0430",dataIndex:"price",id:"price",render:e=>(0,v.jsx)("p",{children:e})},{title:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435",id:"action",render:(e,r)=>(0,v.jsx)(a.A,{size:20,children:(0,v.jsx)(n.A,{onClick:()=>{return e=r.id,b(!0),void C(e);var e},type:"primary",icon:(0,v.jsx)(u.A,{}),children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0443\u0440\u0441"})})},{title:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435",dataIndex:"updateTime",id:"updateTime",render:e=>(0,v.jsx)("p",{children:f()(e).format("DD.MM.YYYY")})}];return(0,v.jsxs)("div",{children:[(0,v.jsx)(d.A,{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0443\u0440\u0441",open:g,onOk:()=>{A.validateFields().then((e=>{D(e)})).catch((e=>{console.log("Failed:",e)}))},onCancel:()=>{b(!1)},children:S?(0,v.jsx)(x.HE,{}):(0,v.jsx)(s.A,{form:A,name:"basic",labelCol:{span:24},wrapperCol:{span:24},style:{maxWidth:"100%"},initialValues:y,onFinish:D,autoComplete:"off",children:(0,v.jsx)(l.A,{gutter:20,children:(0,v.jsx)(c.A,{span:24,children:(0,v.jsx)(m.A,{required:!0,required_text:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043a\u0443\u0440\u0441",label:"\u041a\u0443\u0440\u0441",name:"price"})})})})}),(0,v.jsx)(o.A,{columns:F,dataSource:r,rowKey:e=>null===e||void 0===e?void 0:e.id})]})};var b=t(5397);const w=()=>{const{data:e,isLoading:r,refetch:t}=(0,j.useQuery)("course-get",(()=>p.A.getDataByID("/Kurs",1)),{onError:e=>{i.Ay.error(e.message)}});return(0,v.jsx)("div",{className:"site-space-compact-wrapper",children:(0,v.jsx)(a.A,{direction:"vertical",style:{width:"100%"},children:(0,v.jsx)(b.A,{size:"medium",spinning:r,children:(0,v.jsx)(g,{data:[e],refetch:t})})})})}}}]);
//# sourceMappingURL=334.2ab78e6a.chunk.js.map