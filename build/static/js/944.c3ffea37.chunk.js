"use strict";(self.webpackChunkwonderfullcity_crm=self.webpackChunkwonderfullcity_crm||[]).push([[944],{8944:(e,l,o)=>{o.r(l),o.d(l,{default:()=>j});var d=o(5043),t=o(289),n=o(8193),a=o(4435),s=o(9800),i=o(1645),r=o(4406),u=o(5397),c=o(9888),v=o(2907),p=o(768),h=o(4954),I=o(1802),m=o(8914),x=o(184),f=o(579);const A=e=>{let{data:l}=e;const o=[{title:"\u0418\u043c\u044f",dataIndex:"name",id:"name",render:e=>(0,f.jsx)("p",{children:e})},{title:"\u041f\u043b\u043e\u0449\u0430\u0434\u044c",dataIndex:"size",id:"size",render:e=>(0,f.jsxs)("p",{children:[e,"\u043c\xb2"]})},{title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u043e\u043c\u0435\u0440\u043e\u0432",dataIndex:"roomCount",id:"roomCount",render:e=>(0,f.jsx)("p",{children:e})},{title:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u043e\u043c\u0435\u0440\u0430",dataIndex:"price",id:"price",render:e=>(0,f.jsxs)("p",{children:[e,"$"]})},{title:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440\u0430",dataIndex:"status",id:"status",render:e=>(0,f.jsx)(p.A,{color:0===e?"#0232f6":1===e?"#f5c306":"#ff0000",children:0===e?"Empty":1===e?"Busied":"Bought"})},{title:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043a\u043e\u043c\u043d\u0430\u0442\u044b",dataIndex:"homeImage",id:"homeImage",render:e=>(0,f.jsx)(h.A,{width:50,src:"".concat("http://95.46.96.124/","/").concat(null===e||void 0===e?void 0:e.path)})},{title:"Action",id:"action",render:(e,l)=>(0,f.jsx)(a.A,{size:20,children:(0,f.jsx)(I.A,{onClick:()=>{return e=l.id,void console.log(e);var e},type:"outline",icon:(0,f.jsx)(x.kl1,{})})})}];return(0,f.jsx)("div",{children:(0,f.jsx)(m.A,{columns:o,dataSource:l,rowKey:e=>e.id})})},j=()=>{const[e]=t.A.useForm(),[l,o]=(0,d.useState)(""),[p,h]=(0,d.useState)({slotId:null,houseId:null,floorId:null}),{data:I,refetch:m}=(0,v.useQuery)("get-slot",(()=>c.A.getData("/Slot")),{enabled:!1}),{data:x,refetch:j}=(0,v.useQuery)("get-house",(()=>c.A.getData("/House?slotId=".concat(null===p||void 0===p?void 0:p.slotId))),{enabled:!1}),{data:b,refetch:g}=(0,v.useQuery)("get-floor",(()=>c.A.getData("/Floor?housId=".concat(null===p||void 0===p?void 0:p.houseId))),{enabled:!1}),{data:y,isLoading:w,refetch:C}=(0,v.useQuery)("selling-apartment-get",(()=>c.A.getData("/Apartment/?".concat(l?"status=".concat(l):"").concat(null!==p&&void 0!==p&&p.slotId?"&SlotId=".concat(null===p||void 0===p?void 0:p.slotId):"").concat(null!==p&&void 0!==p&&p.houseId?"&HouseId=".concat(null===p||void 0===p?void 0:p.houseId):"").concat(null!==p&&void 0!==p&&p.floorId?"&FlorId=".concat(null===p||void 0===p?void 0:p.floorId):""))),{onError:e=>{n.Ay.error(e)}});(0,d.useEffect)((()=>{m()}),[]),(0,d.useEffect)((()=>{null!==p&&void 0!==p&&p.slotId&&j()}),[null===p||void 0===p?void 0:p.slotId]),(0,d.useEffect)((()=>{null!==p&&void 0!==p&&p.houseId&&g()}),[null===p||void 0===p?void 0:p.houseId]),(0,d.useEffect)((()=>{C()}),[l,p]);const E=(0,d.useMemo)((()=>[{value:"",label:"All"},{value:0,label:"Empty"},{value:1,label:"Busied"},{value:2,label:"Buyed"}]),[]),k=(0,d.useMemo)((()=>{var e;return null===I||void 0===I||null===(e=I.result)||void 0===e?void 0:e.map((e=>({value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name})))}),[I]),F=(0,d.useMemo)((()=>{var e;return null===x||void 0===x||null===(e=x.result)||void 0===e?void 0:e.map((e=>({value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name})))}),[x]),L=(0,d.useMemo)((()=>{var e;return null===b||void 0===b||null===(e=b.result)||void 0===e?void 0:e.map((e=>({value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name})))}),[b]);return(0,f.jsx)("div",{className:"site-space-compact-wrapper",children:(0,f.jsxs)(a.A,{direction:"vertical",style:{width:"100%"},children:[(0,f.jsx)(t.A,{form:e,name:"basic",labelCol:{span:24},wrapperCol:{span:24},style:{maxWidth:"100%"},autoComplete:"off",children:(0,f.jsxs)(s.A,{gutter:20,children:[(0,f.jsx)(i.A,{span:6,children:(0,f.jsx)(t.A.Item,{label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043b\u043e\u0442",name:"slotId",wrapperCol:{span:24},children:(0,f.jsx)(r.A,{style:{width:"100%"},optionLabelProp:"label",onChange:l=>{e.setFieldsValue({houseId:null,floorId:null}),h({slotId:l,houseId:null,floorId:null})},options:k})})}),(0,f.jsx)(i.A,{span:6,children:(0,f.jsx)(t.A.Item,{label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043e\u043c",name:"houseId",wrapperCol:{span:24},children:(0,f.jsx)(r.A,{style:{width:"100%"},optionLabelProp:"label",onChange:l=>{e.setFieldsValue({floorId:null}),h((e=>({...e,houseId:l,floorId:null})))},options:F})})}),(0,f.jsx)(i.A,{span:6,children:(0,f.jsx)(t.A.Item,{label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b",name:"floorId",wrapperCol:{span:24},children:(0,f.jsx)(r.A,{style:{width:"100%"},optionLabelProp:"label",options:L,onChange:e=>{h((l=>({...l,floorId:e})))}})})}),(0,f.jsx)(i.A,{span:6,children:(0,f.jsx)(t.A.Item,{label:"\u0424\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0443",name:"status",wrapperCol:{span:24},children:(0,f.jsx)(r.A,{style:{width:"100%"},optionLabelProp:"label",onChange:e=>{o(e)},options:E})})})]})}),(0,f.jsx)(u.A,{size:"medium",spinning:w,children:(0,f.jsx)(A,{data:null===y||void 0===y?void 0:y.result})})]})})}}}]);
//# sourceMappingURL=944.c3ffea37.chunk.js.map