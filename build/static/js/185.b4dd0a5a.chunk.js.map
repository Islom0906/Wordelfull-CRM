{"version":3,"file":"static/js/185.b4dd0a5a.chunk.js","mappings":"gLAIA,MAmBA,EAnBkBA,IAAkD,IAAjD,MAACC,EAAK,KAACC,EAAI,SAACC,EAAQ,cAACC,EAAa,QAACC,GAAQL,EAC1D,OACIM,EAAAA,EAAAA,KAACC,EAAAA,EAAKC,KAAI,CACNP,MAAOI,GAAUI,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACbJ,EAAAA,EAAAA,KAAA,KAAAI,SAAIT,KACJK,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,KAAAI,SAAIL,QACDC,EAAAA,EAAAA,KAAA,OAAAI,SAAMT,IACbC,KAAMA,EAENS,MAAO,CAAC,CACJR,SAAUA,EAAUS,QAASR,IAC9BM,UAEHJ,EAAAA,EAAAA,KAACO,EAAAA,EAAK,KACE,C,2NCPpB,MAAMC,EAAmB,CACrBZ,KAAM,GACNa,OAAQ,KACRC,QAAQ,IAgXZ,EA5WsBC,KAElB,MAAOC,GAAQX,EAAAA,EAAKY,UACdC,GAAWC,EAAAA,EAAAA,OACX,OAACC,IAAUC,EAAAA,EAAAA,KAAYC,GAASA,EAAMC,WACtCC,GAAWC,EAAAA,EAAAA,OAKVC,EAAeC,IAAoBC,EAAAA,EAAAA,UAAS,KAC5CC,EAAaC,IAAkBF,EAAAA,EAAAA,UAAS,OAMxCG,KAAMC,EAAUC,QAASC,IAAaC,EAAAA,EAAAA,UACzC,YACA,IAAMC,EAAAA,EAAWC,QAAQ,UACzB,CACIC,SAAS,KAObC,OAAQC,EACRT,KAAMU,EACNC,UAAWC,EACXC,UAAWC,IACXC,EAAAA,EAAAA,cAAYhD,IAAA,IAAC,IAACiD,EAAG,SAAEC,GAASlD,EAAA,OAAKsC,EAAAA,EAAWa,SAASF,EAAKC,EAAS,GAAE,CAErEE,UAAWA,KAEPxC,EAAAA,GAAQyC,QAAQ,UAAU,EAE9BC,QAAUC,IACN,IAAK,IAAIC,KAAOD,EAAME,SAASxB,KAC3BrB,EAAAA,GAAQ2C,MAAM,GAADG,OAAIF,EAAG,MAAAE,OAAKH,EAAME,SAASxB,KAAKuB,IACjD,KAMJf,OAAQkB,EACR1B,KAAM2B,EACNhB,UAAWiB,EACXf,UAAWgB,IACXd,EAAAA,EAAAA,cAAYe,IAAA,IAAC,IAACd,EAAG,KAAEhB,GAAK8B,EAAA,OAAKzB,EAAAA,EAAWa,SAASF,EAAKhB,EAAK,GAAE,CAC7DmB,UAAWA,KAEPxC,EAAAA,GAAQyC,QAAQ,UAAU,EAE9BC,QAAUC,IACN,IAAK,IAAIC,KAAOD,EAAME,SAASxB,KAC3BrB,EAAAA,GAAQ2C,MAAM,GAADG,OAAIF,EAAG,MAAAE,OAAKH,EAAME,SAASxB,KAAKuB,IACjD,KAMJZ,UAAWoB,EACX/B,KAAMgC,EACN9B,QAAS+B,EACTpB,UAAWqB,IAEX9B,EAAAA,EAAAA,UAAS,CAAC,aAAcf,IAAS,IAAMgB,EAAAA,EAAW8B,YAAY,SAAU9C,IAAS,CACjFkB,SAAS,KAITC,OAAQ4B,EACRzB,UAAW0B,EACXrC,KAAMsC,EACNzB,UAAW0B,IACXxB,EAAAA,EAAAA,cAAYyB,IAAA,IAAC,IACIxB,EAAG,KAAEhB,EAAI,GAAEyC,GACdD,EAAA,OAAKnC,EAAAA,EAAWb,SAASwB,EAAKhB,EAAMyC,EAAG,GAAE,CACvDtB,UAAWA,KAEPxC,EAAAA,GAAQyC,QAAQ,UAAU,EAE9BC,QAAUC,IACN,IAAK,IAAIC,KAAOD,EAAME,SAASxB,KAC3BrB,EAAAA,GAAQ2C,MAAM,GAADG,OAAIF,EAAG,MAAAE,OAAKH,EAAME,SAASxB,KAAKuB,IACjD,KAKJf,OAAQkC,EACR/B,UAAWgC,EACX3C,KAAM4C,EACN/B,UAAWgC,IACX9B,EAAAA,EAAAA,cAAY+B,IAAA,IAAC,IACI9B,EAAG,KAAEhB,EAAI,GAAEyC,GACdK,EAAA,OAAKzC,EAAAA,EAAWb,SAASwB,EAAKhB,EAAMyC,EAAG,GAAE,CACvDtB,UAAWA,KAEPxC,EAAAA,GAAQyC,QAAQ,UAAU,EAE9BC,QAAUC,IACN,IAAK,IAAIC,KAAOD,EAAME,SAASxB,KAC3BrB,EAAAA,GAAQ2C,MAAM,GAADG,OAAIF,EAAG,MAAAE,OAAKH,EAAME,SAASxB,KAAKuB,IACjD,KAQRwB,EAAAA,EAAAA,YAAU,KACFR,GACA9C,EAAS,CAACuD,KAAMC,EAAAA,GAAWC,QAAS,MAEpCrB,GAAoBU,IACpBpD,EAAS,SACb,GACD,CAACwC,EAAWW,KAGfS,EAAAA,EAAAA,YAAU,KACS,KAAX1D,GACA4C,GACJ,GACD,CAAC5C,KAGJ0D,EAAAA,EAAAA,YAAU,KACS,KAAX1D,GACAJ,EAAKkE,eAAetE,GAExBsB,GAAW,GACZ,KAIH4C,EAAAA,EAAAA,YAAU,KAEN,IAAIhE,EAAU,KACoB,IAADqE,EAAAC,OAAXC,IAAlBtB,IACKjD,EAAU,CAAC,CACRwE,IAAkB,OAAbvB,QAAa,IAAbA,GAAoB,QAAPoB,EAAbpB,EAAewB,aAAK,IAAAJ,OAAP,EAAbA,EAAsBX,GAC3BxE,KAAmB,OAAb+D,QAAa,IAAbA,GAAoB,QAAPqB,EAAbrB,EAAewB,aAAK,IAAAH,OAAP,EAAbA,EAAsBZ,GAC5BgB,OAAQ,OACRzC,IAAI,GAADS,OAAKiC,8BAA+B,KAAAjC,OAAiB,OAAbO,QAAa,IAAbA,OAAa,EAAbA,EAAewB,MAAMG,SAM5E,GAAIzB,EAAkB,CAAC,IAAD0B,EAElB,MAAMC,EAAO,CACT5F,KAAmB,OAAb+D,QAAa,IAAbA,OAAa,EAAbA,EAAe/D,KACrBa,OAAqB,OAAbkD,QAAa,IAAbA,GAAmB,QAAN4B,EAAb5B,EAAe8B,YAAI,IAAAF,OAAN,EAAbA,EAAqBnB,GAC7B1D,WAGJa,EAAiBb,GACjBE,EAAKkE,eAAeU,EACxB,IAED,CAAC7B,KAsBJe,EAAAA,EAAAA,YAAU,KACN,MAAMgB,EAAeC,KAAKC,MAAMC,aAAaC,QAAQ,iBACjDJ,IACAA,EAAaK,OAAS,GACtBnF,EAAKkE,eAAeY,IAGxB,MAAMM,EAAqBA,KAEvBH,aAAaI,QAAQ,eAAgBN,KAAKO,UAAUtF,EAAKuF,kBAAmB,EAKhF,OAFAC,OAAOC,iBAAiB,eAAgBL,GAEjC,KACHH,aAAaS,WAAW,cACxBT,aAAaS,WAAW,gBACxBF,OAAOG,oBAAoB,eAAgBP,EAAmB,CACjE,GACF,KAGHtB,EAAAA,EAAAA,YAAU,KACN,IAAI8B,EAAUhC,EAAiBD,EAAalC,EAC5C,GAAII,GAAqB+B,EAAiB,CACtC,MAAMiC,EAAY,CAAC,CACfvB,IAAc,OAATsB,QAAS,IAATA,OAAS,EAATA,EAAWpC,GAChBxE,KAAe,OAAT4G,QAAS,IAATA,OAAS,EAATA,EAAWpC,GACjBgB,OAAQ,OACRzC,IAAI,GAADS,OAAKiC,8BAA+B,KAAAjC,OAAa,OAAToD,QAAS,IAATA,OAAS,EAATA,EAAWlB,QAE1D1E,EAAKkE,eAAe,CAACpE,QAAS+F,IAC9BlF,EAAiBkF,EACrB,IACD,CAACpE,EAAakC,IAEjB,MAwCMmC,GAAcC,EAAAA,EAAAA,UAAQ,KAAO,IAADC,EAC9B,OAAe,OAARhF,QAAQ,IAARA,GAAgB,QAARgF,EAARhF,EAAUiF,cAAM,IAAAD,OAAR,EAARA,EAAkBE,KAAKC,IACnB,CACHC,MAAa,OAAND,QAAM,IAANA,OAAM,EAANA,EAAQ3C,GACfzE,MAAa,OAANoH,QAAM,IAANA,OAAM,EAANA,EAAQnH,QAErB,GACH,CAACgC,IAGJ,OAAQ5B,EAAAA,EAAAA,KAAA,OAAAI,SACFmD,GAAoBG,GAAoBM,GAAmBzB,GAAuB+B,GAChFtE,EAAAA,EAAAA,KAACiH,EAAAA,GAAS,KACV9G,EAAAA,EAAAA,MAACF,EAAAA,EAAI,CACDW,KAAMA,EACNhB,KAAK,QACLsH,SAAU,CACNC,KAAM,IAEVC,WAAY,CACRD,KAAM,IAEVE,MAAO,CACHC,SAAU,QAEdC,cAAe/G,EACfgH,SA3HMC,IAAY,IAADC,EAIzB,MAAM/F,EAAO,CACT/B,KAAM6H,EAAO7H,KACba,OAAQgH,EAAOhH,OACfC,QAAwB,QAAjBgH,EAACpG,EAAc,UAAE,IAAAoG,OAAA,EAAhBA,EAAkBxC,KAE1BrB,EACAE,EAAS,CAACpB,IAAI,SAAWhB,OAAKyC,GAAGpD,IAEjCqC,EAAgB,CAACV,IAAK,UAAWhB,QACrC,EA+GQgG,eA7GYC,IACpBC,QAAQC,IAAI,UAAWF,EAAU,EA6GzBG,aAAa,MAAK3H,SAAA,EAIlBD,EAAAA,EAAAA,MAAC6H,EAAAA,EAAG,CAACC,OAAQ,GAAG7H,SAAA,EAEZJ,EAAAA,EAAAA,KAACkI,EAAAA,EAAG,CAACf,KAAM,GAAG/G,UACVJ,EAAAA,EAAAA,KAACmI,EAAAA,EAAS,CACNtI,UAAU,EACVC,cAAe,6HACfH,MAAO,sEACPC,KAAM,YAKdI,EAAAA,EAAAA,KAACkI,EAAAA,EAAG,CAACf,KAAM,GAAG/G,UACVJ,EAAAA,EAAAA,KAACC,EAAAA,EAAKC,KAAI,CACNP,MAAO,4EACPC,KAAM,SACNS,MAAO,CAAC,CACJR,UAAU,EAAMS,QAAS,0HAE7B8G,WAAY,CACRD,KAAM,IACR/G,UAEFJ,EAAAA,EAAAA,KAACoI,EAAAA,EAAM,CACHf,MAAO,CACHgB,MAAO,QAEXC,YAAY,qGACZC,gBAAgB,QAChBC,QAAS9B,YAMzB1G,EAAAA,EAAAA,KAACgI,EAAAA,EAAG,CAACC,OAAQ,GAAG7H,UACZJ,EAAAA,EAAAA,KAACkI,EAAAA,EAAG,CAACf,KAAM,GAAG/G,UACVJ,EAAAA,EAAAA,KAACC,EAAAA,EAAKC,KAAI,CACNP,MAAM,8FACNC,KAAM,UACNS,MAAO,CAAC,CAACR,UAAU,EAAMS,QAAS,8HAA0BF,UAC5DJ,EAAAA,EAAAA,KAACyI,EAAAA,EAAO,CAAArI,UACJJ,EAAAA,EAAAA,KAAC0I,EAAAA,EAAM,CACHC,SAAU,EACVC,SAAUtH,EACVuH,SAAS,eACTC,SAtHVC,IAA8B,IAA5BH,SAAUI,GAAYD,EAE1C,MAAMnG,EAAW,IAAIqG,SACM,IAAvBD,EAAYE,SACZtG,EAASuG,OAAO,WAAYH,EAAY,GAAGI,eACvCvF,GAAoBpC,EACpB4C,EAAS,CAAC1B,IAAI,SAAWhB,KAAMiB,EAASwB,GAAG3C,IAE3CW,EAAmB,CAACO,IAAK,UAAWC,aAE5C,EA6G4ByG,UAhGdC,UACd,IAAIC,EAAMC,EAAK7G,IACV4G,IACDA,QAAY,IAAIE,SAASC,IACrB,MAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAcL,EAAKJ,eAC1BO,EAAOG,OAAS,IAAMJ,EAAQC,EAAO9C,OAAO,KAGpD,MAAM1B,EAAQ,IAAI4E,MAClB5E,EAAMoE,IAAMA,EACZ,MAAMS,EAAY5D,OAAO6D,KAAKV,GACrB,OAATS,QAAS,IAATA,GAAAA,EAAWE,SAASC,MAAMhF,EAAMiF,UAAU,EAqFdC,SA1GLb,IACvB,MAAMc,EAAU,OAAJd,QAAI,IAAJA,OAAI,EAAJA,EAAMtE,IAClBxD,EAAe4I,GACf1J,EAAKkE,eAAe,CAACpE,QAAS,KAC9Ba,EAAiB,GAAG,EAuGQgJ,aAAcA,KAAM,EAAMnK,SAEzBkB,EAAc4H,OAAS,EAAI,GAAK,oBAQrDlJ,EAAAA,EAAAA,KAACwK,EAAAA,EAAM,CAAC7F,KAAK,UAAU8F,SAAS,SAASpD,MAAO,CAACgB,MAAO,OAAQqC,UAAW,QAAQtK,SAC9EyD,EAAmB,mDAAa,mDAG3C,C","sources":["@crema/core/Form/FormInput.jsx","pages/sample/House/HousePostEdit.jsx"],"sourcesContent":["import React from 'react';\nimport {Form, Input} from \"antd\";\nimport PropTypes from \"prop-types\";\n\nconst FormInput = ({label,name,required,required_text,warning}) => {\n    return (\n        <Form.Item\n            label={warning ? <div>\n                <p>{label}</p>\n                <br/>\n                <p>{warning}</p>\n            </div>:<div>{label}</div>}\n            name={name}\n\n            rules={[{\n                required: required, message: required_text\n            }]}\n        >\n            <Input />\n        </Form.Item>\n    );\n};\n\nexport default FormInput;\n\nFormInput.propTypes = {\n    label: PropTypes.string,\n    warning: PropTypes.string,\n    name: PropTypes.any,\n    required: PropTypes.bool,\n    required_text:PropTypes.string\n};","import React, {useEffect, useMemo, useState} from 'react';\nimport {Button, Col, Form, message, Row, Select, Upload} from \"antd\";\nimport {useMutation, useQuery} from \"react-query\";\nimport apiService from \"../../../@crema/services/apis/api\";\nimport {AppLoader} from \"../../../@crema\";\nimport {useNavigate} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {EDIT_DATA} from \"../../../shared/constants/ActionTypes\";\nimport FormInput from \"../../../@crema/core/Form/FormInput\";\nimport ImgCrop from \"antd-img-crop\";\n\n\nconst initialValueForm = {\n    name: \"\",\n    slotId: null,\n    imageId:[]\n};\n\n\nconst HousePostEdit = () => {\n\n    const [form] = Form.useForm();\n    const navigate = useNavigate()\n    const {editId} = useSelector(state => state.editData)\n    const dispatch = useDispatch()\n\n\n\n\n    const [fileListProps, setFileListProps] = useState([]);\n    const [editImageId, setEditImageId] = useState(null)\n\n\n\n\n    // query-slot-get\n    const {data: slotData, refetch: slotFetch} = useQuery(\n        'get-slot',\n        () => apiService.getData('/Slot'),\n        {\n            enabled: false,\n        },\n    );\n\n\n    // query-image\n    const {\n        mutate: imagesUploadMutate,\n        data: imagesUpload,\n        isLoading: imagesUploadLoading,\n        isSuccess: imagesUploadSuccess,\n    } = useMutation(({url, formData}) => apiService.postData(url, formData), {\n\n        onSuccess: () => {\n\n            message.success('Success')\n        },\n        onError: (error) => {\n            for (let obj in error.response.data) {\n                message.error(`${obj}: ${error.response.data[obj]}`)\n            }\n        }\n    });\n\n    // query-house\n    const {\n        mutate: postHouseMutate,\n        data: postHouse,\n        isLoading: postHouseLoading,\n        isSuccess: postHouseSuccess,\n    } = useMutation(({url, data}) => apiService.postData(url, data), {\n        onSuccess: () => {\n\n            message.success('Success')\n        },\n        onError: (error) => {\n            for (let obj in error.response.data) {\n                message.error(`${obj}: ${error.response.data[obj]}`)\n            }\n        }\n    });\n\n    // query-edit\n    const {\n        isLoading: editHouseLoading,\n        data: editHouseData,\n        refetch: editHouseRefetch,\n        isSuccess: editHouseSuccess,\n\n    } = useQuery([\"edit-house\", editId], () => apiService.getDataByID(\"/House\", editId), {\n        enabled: false\n    });\n    // put-query\n    const {\n        mutate: putHouse,\n        isLoading: putHouseLoading,\n        data: putData,\n        isSuccess: putHouseSuccess\n    } = useMutation(({\n                         url, data, id\n                     }) => apiService.editData(url, data, id), {\n        onSuccess: () => {\n\n            message.success('Success')\n        },\n        onError: (error) => {\n            for (let obj in error.response.data) {\n                message.error(`${obj}: ${error.response.data[obj]}`)\n            }\n        }\n    });\n\n    const {\n        mutate: putImage,\n        isLoading: putImageLoading,\n        data: putImageData,\n        isSuccess: putImageSuccess\n    } = useMutation(({\n                         url, data, id\n                     }) => apiService.editData(url, data, id), {\n        onSuccess: () => {\n\n            message.success('Success')\n        },\n        onError: (error) => {\n            for (let obj in error.response.data) {\n                message.error(`${obj}: ${error.response.data[obj]}`)\n            }\n        }\n    });\n\n\n    //                                              =====useEffect====\n\n    // house success\n    useEffect(() => {\n        if (putHouseSuccess) {\n            dispatch({type: EDIT_DATA, payload: \"\"})\n        }\n        if (postHouseSuccess || putHouseSuccess) {\n            navigate('/house')\n        }\n    }, [postHouse, putData])\n\n    // if edit house\n    useEffect(() => {\n        if (editId !== \"\") {\n            editHouseRefetch();\n        }\n    }, [editId]);\n\n    // if no edit house\n    useEffect(() => {\n        if (editId === \"\") {\n            form.setFieldsValue(initialValueForm)\n        }\n        slotFetch()\n    }, []);\n\n\n    //edit house\n    useEffect(() => {\n\n        let imageId = null;\n        if (editHouseData !== undefined) {\n                 imageId = [{\n                    uid: editHouseData?.image?.id,\n                    name: editHouseData?.image?.id,\n                    status: \"done\",\n                    url: `${process.env.REACT_APP_IMAGE_URL}/${editHouseData?.image.path}`\n                }]\n\n        }\n\n\n        if (editHouseSuccess) {\n\n            const edit = {\n                name: editHouseData?.name,\n                slotId: editHouseData?.slot?.id,\n                imageId\n            }\n\n            setFileListProps(imageId)\n            form.setFieldsValue(edit)\n        }\n\n    }, [editHouseData])\n    const onFinish = (values) => {\n\n\n\n        const data = {\n            name: values.name,\n            slotId: values.slotId,\n            imageId:fileListProps[0]?.uid\n        };\n        if (editHouseSuccess) {\n            putHouse({url: `/House`, data,id:editId});\n        } else {\n            postHouseMutate({url: \"/House/\", data});\n        }\n    }\n    const onFinishFailed = (errorInfo) => {\n        console.log(\"Failed:\", errorInfo);\n    };\n\n    // refresh page again get data\n\n    useEffect(() => {\n        const storedValues = JSON.parse(localStorage.getItem('myFormValues'));\n        if (storedValues) {\n            storedValues.images = []\n            form.setFieldsValue(storedValues);\n        }\n\n        const handleBeforeUnload = () => {\n\n            localStorage.setItem('myFormValues', JSON.stringify(form.getFieldsValue()),);\n        };\n\n        window.addEventListener('beforeunload', handleBeforeUnload);\n\n        return () => {\n            localStorage.removeItem('editDataId')\n            localStorage.removeItem('myFormValues')\n            window.removeEventListener('beforeunload', handleBeforeUnload);\n        }\n    }, []);\n\n    // image\n    useEffect(() => {\n        let imageData=putImageSuccess? putImageData:imagesUpload\n        if (imagesUploadSuccess||putImageSuccess) {\n            const uploadImg = [{\n                uid: imageData?.id,\n                name: imageData?.id,\n                status: \"done\",\n                url: `${process.env.REACT_APP_IMAGE_URL}/${imageData?.path}`\n            }]\n            form.setFieldsValue({imageId: uploadImg});\n            setFileListProps(uploadImg);\n        }\n    }, [imagesUpload,putImageData]);\n\n    const onChangeImage = ({fileList: newFileList}) => {\n\n        const formData = new FormData();\n        if (newFileList.length !== 0) {\n            formData.append(\"fromFile\", newFileList[0].originFileObj);\n            if (editHouseSuccess && editImageId) {\n                putImage({url: `/Image`, data: formData,id:editImageId})\n            } else {\n                imagesUploadMutate({url: \"/Image/\", formData});\n            }\n        }\n\n    };\n\n    const handleRemoveImage = (file) => {\n        const ids = file?.uid\n        setEditImageId(ids)\n        form.setFieldsValue({imageId: []});\n        setFileListProps([])\n\n    }\n\n\n    const onPreview = async (file) => {\n        let src = file.url;\n        if (!src) {\n            src = await new Promise((resolve) => {\n                const reader = new FileReader();\n                reader.readAsDataURL(file.originFileObj);\n                reader.onload = () => resolve(reader.result);\n            });\n        }\n        const image = new Image();\n        image.src = src;\n        const imgWindow = window.open(src);\n        imgWindow?.document.write(image.outerHTML);\n    };\n\n\n    // option slot\n    const optionsSlot = useMemo(() => {\n        return slotData?.result?.map((option) => {\n            return {\n                value: option?.id,\n                label: option?.name,\n            };\n        });\n    }, [slotData]);\n\n\n    return (<div>\n        {(postHouseLoading || editHouseLoading || putHouseLoading || imagesUploadLoading || putImageLoading) ?\n            <AppLoader/> :\n            <Form\n                form={form}\n                name=\"basic\"\n                labelCol={{\n                    span: 24\n                }}\n                wrapperCol={{\n                    span: 24\n                }}\n                style={{\n                    maxWidth: \"100%\"\n                }}\n                initialValues={initialValueForm}\n                onFinish={onFinish}\n                onFinishFailed={onFinishFailed}\n                autoComplete=\"off\"\n            >\n\n\n                <Row gutter={20}>\n\n                    <Col span={12}>\n                        <FormInput\n                            required={true}\n                            required_text={'Требуется название дом'}\n                            label={'Название дом'}\n                            name={'name'}\n                        />\n\n\n                    </Col>\n                    <Col span={12}>\n                        <Form.Item\n                            label={'Выберите слот'}\n                            name={'slotId'}\n                            rules={[{\n                                required: true, message: 'Вы должны выбрать слот'\n                            }]}\n                            wrapperCol={{\n                                span: 24,\n                            }}\n                        >\n                            <Select\n                                style={{\n                                    width: '100%',\n                                }}\n                                placeholder='Выберите одну слот'\n                                optionLabelProp='label'\n                                options={optionsSlot}\n                            />\n                        </Form.Item>\n                    </Col>\n                </Row>\n\n                <Row gutter={20}>\n                    <Col span={12}>\n                        <Form.Item\n                            label='Изображение дома'\n                            name={'imageId'}\n                            rules={[{required: true, message: 'Требуется изображение'}]}>\n                            <ImgCrop>\n                                <Upload\n                                    maxCount={1}\n                                    fileList={fileListProps}\n                                    listType='picture-card'\n                                    onChange={onChangeImage}\n                                    onPreview={onPreview}\n                                    onRemove={handleRemoveImage}\n                                    beforeUpload={() => false}\n                                >\n                                    {fileListProps.length > 0 ? \"\" : \"Upload\"}\n                                </Upload>\n                            </ImgCrop>\n                        </Form.Item>\n                    </Col>\n                </Row>\n\n\n                <Button type=\"primary\" htmlType=\"submit\" style={{width: \"100%\", marginTop: \"20px\"}}>\n                    {editHouseSuccess ? 'Изменить' : 'Создать'}\n                </Button>\n            </Form>}\n    </div>);\n};\n\nexport default HousePostEdit;"],"names":["_ref","label","name","required","required_text","warning","_jsx","Form","Item","_jsxs","children","rules","message","Input","initialValueForm","slotId","imageId","HousePostEdit","form","useForm","navigate","useNavigate","editId","useSelector","state","editData","dispatch","useDispatch","fileListProps","setFileListProps","useState","editImageId","setEditImageId","data","slotData","refetch","slotFetch","useQuery","apiService","getData","enabled","mutate","imagesUploadMutate","imagesUpload","isLoading","imagesUploadLoading","isSuccess","imagesUploadSuccess","useMutation","url","formData","postData","onSuccess","success","onError","error","obj","response","concat","postHouseMutate","postHouse","postHouseLoading","postHouseSuccess","_ref2","editHouseLoading","editHouseData","editHouseRefetch","editHouseSuccess","getDataByID","putHouse","putHouseLoading","putData","putHouseSuccess","_ref3","id","putImage","putImageLoading","putImageData","putImageSuccess","_ref4","useEffect","type","EDIT_DATA","payload","setFieldsValue","_editHouseData$image","_editHouseData$image2","undefined","uid","image","status","process","path","_editHouseData$slot","edit","slot","storedValues","JSON","parse","localStorage","getItem","images","handleBeforeUnload","setItem","stringify","getFieldsValue","window","addEventListener","removeItem","removeEventListener","imageData","uploadImg","optionsSlot","useMemo","_slotData$result","result","map","option","value","AppLoader","labelCol","span","wrapperCol","style","maxWidth","initialValues","onFinish","values","_fileListProps$","onFinishFailed","errorInfo","console","log","autoComplete","Row","gutter","Col","FormInput","Select","width","placeholder","optionLabelProp","options","ImgCrop","Upload","maxCount","fileList","listType","onChange","_ref5","newFileList","FormData","length","append","originFileObj","onPreview","async","src","file","Promise","resolve","reader","FileReader","readAsDataURL","onload","Image","imgWindow","open","document","write","outerHTML","onRemove","ids","beforeUpload","Button","htmlType","marginTop"],"sourceRoot":""}