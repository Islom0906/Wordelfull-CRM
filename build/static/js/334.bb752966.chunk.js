"use strict";(self.webpackChunkwonderfullcity_crm=self.webpackChunkwonderfullcity_crm||[]).push([[334],{4268:(e,r,s)=>{s.d(r,{A:()=>n});s(5043);var t=s(289),i=s(6558),a=s(579);const n=e=>{let{label:r,name:s,required:n,required_text:c,warning:l}=e;return(0,a.jsx)(t.A.Item,{label:l?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:r}),(0,a.jsx)("br",{}),(0,a.jsx)("p",{children:l})]}):(0,a.jsx)("div",{children:r}),name:s,rules:[{required:n,message:c}],children:(0,a.jsx)(i.A,{})})}},8334:(e,r,s)=>{s.r(r),s.d(r,{default:()=>g});var t=s(289),i=s(8193),a=s(4435),n=s(1802),c=s(4124),l=s(9800),d=s(1645),o=s(8914),u=s(7407),h=s(8710),x=s(5043),p=s(9888),j=s(2907),m=s(4268),A=s(579);const f={title_uz:"",title_ru:"",sub_category:[]},v=e=>{let{data:r,refetch:s}=e;const[v]=t.A.useForm(),[y,g]=(0,x.useState)(!1),[b,w]=(0,x.useState)(null),{mutate:C,data:S,isLoading:_,isSuccess:k}=(0,j.useMutation)((e=>{let{url:r,data:s,id:t}=e;return p.A.editData(r,s,t)}),{onSuccess:()=>{i.Ay.success("Success")},onError:e=>{for(let r in e.response.data)i.Ay.error("".concat(r,": ").concat(e.response.data[r][0]))}}),q=e=>{C({url:"/Kurs",data:e,id:b})};(0,x.useEffect)((()=>{k&&(g(!1),v.setFieldsValue(f),s())}),[S]);const E=[{title:"\u0426\u0435\u043d\u0430",dataIndex:"price",id:"price",render:e=>(0,A.jsx)("p",{children:e})},{title:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435",id:"action",render:(e,r)=>(0,A.jsx)(a.A,{size:20,children:(0,A.jsx)(n.A,{onClick:()=>{return e=r.id,g(!0),void w(e);var e},type:"primary",icon:(0,A.jsx)(u.A,{}),children:"Edit Status"})})}];return(0,A.jsxs)("div",{children:[(0,A.jsx)(c.A,{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0443\u0440\u0441",open:y,onOk:()=>{v.validateFields().then((e=>{q(e)})).catch((e=>{console.log("Failed:",e)}))},onCancel:()=>{g(!1)},children:_?(0,A.jsx)(h.HE,{}):(0,A.jsx)(t.A,{form:v,name:"basic",labelCol:{span:24},wrapperCol:{span:24},style:{maxWidth:"100%"},initialValues:f,onFinish:q,autoComplete:"off",children:(0,A.jsx)(l.A,{gutter:20,children:(0,A.jsx)(d.A,{span:24,children:(0,A.jsx)(m.A,{required:!0,required_text:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043a\u0443\u0440\u0441",label:"\u041a\u0443\u0440\u0441",name:"price"})})})})}),(0,A.jsx)(o.A,{columns:E,dataSource:r,rowKey:e=>null===e||void 0===e?void 0:e.id})]})};var y=s(5397);const g=()=>{const{data:e,isLoading:r,refetch:s}=(0,j.useQuery)("course-get",(()=>p.A.getDataByID("/Kurs",1)),{onError:e=>{i.Ay.error(e.message)}});return(0,A.jsx)("div",{className:"site-space-compact-wrapper",children:(0,A.jsx)(a.A,{direction:"vertical",style:{width:"100%"},children:(0,A.jsx)(y.A,{size:"medium",spinning:r,children:(0,A.jsx)(v,{data:[e],refetch:s})})})})}}}]);
//# sourceMappingURL=334.bb752966.chunk.js.map