"use strict";(self.webpackChunkwonderfullcity_crm=self.webpackChunkwonderfullcity_crm||[]).push([[204],{823:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var s=r(5043),d=r(4954),i=r(768),a=r(4435),n=r(1802),l=r(6059),c=r(8914),o=r(7407),u=r(1966),h=r(4556),p=r(6213),x=r(3216),A=r(579);const j=e=>{let{data:t,deleteHandle:r}=e;const s=(0,h.wA)(),j=(0,x.Zp)(),m=[{title:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",dataIndex:"image",id:"image",render:e=>(0,A.jsx)(d.A,{width:50,src:"".concat("http://95.46.96.124/","/").concat(null===e||void 0===e?void 0:e.path)})},{title:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f",dataIndex:"fulName",id:"fulName",render:e=>(0,A.jsx)("p",{children:e})},{title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",dataIndex:"phoneNumber",id:"phoneNumber",render:e=>(0,A.jsx)("p",{children:e})},{title:"Login",dataIndex:"userName",id:"userName",render:e=>(0,A.jsx)("p",{children:e})},{title:"\u0420\u043e\u043b\u044c",dataIndex:"role",id:"role",render:e=>(0,A.jsx)(i.A,{children:1===e?"\u0410\u0434\u043c\u0438\u043d":"\u041f\u0440\u043e\u0434\u0430\u0432\u0435\u0446"})},{title:"Action",id:"action",render:(e,t)=>(0,A.jsxs)(a.A,{size:20,children:[(0,A.jsx)(n.A,{onClick:()=>{return e=t.id,localStorage.setItem("editDataId",e),s({type:p.aT,payload:e}),void j("/user/add");var e},type:"primary",icon:(0,A.jsx)(o.A,{}),children:"Edit"}),(0,A.jsx)(l.A,{title:"Are you sure to delete this task?",description:"Delete the task ",onConfirm:()=>(async e=>{r("/User",e)})(t.id),children:(0,A.jsx)(n.A,{type:"danger",icon:(0,A.jsx)(u.A,{}),children:"Delete"})})]})}];return(0,A.jsx)("div",{children:(0,A.jsx)(c.A,{columns:m,dataSource:t,rowKey:e=>e.id})})};var m=r(8193),y=r(9800),v=r(1645),g=r(6558),f=r(5397),w=r(5337),k=r(9888),C=r(2907);const N=()=>{const e=(0,x.Zp)(),t=(0,h.wA)(),{mutate:r,isSuccess:d,isLoading:i}=(0,C.useMutation)((e=>{let{url:t,id:r}=e;return k.A.deleteData(t,r)}),{onSuccess:()=>{m.Ay.success("Success")},onError:e=>{m.Ay.error(e.message)}}),{data:l,isLoading:c,refetch:o}=(0,C.useQuery)("user-get",(()=>k.A.getData("/User")),{onError:e=>{m.Ay.error(e.message)}}),[u,N]=(0,s.useState)([]),[I,S]=(0,s.useState)(!1);(0,s.useEffect)((()=>{d&&o()}),[d]);return(0,A.jsx)("div",{className:"site-space-compact-wrapper",children:(0,A.jsxs)(a.A,{direction:"vertical",style:{width:"100%"},children:[(0,A.jsxs)(y.A,{gutter:20,children:[(0,A.jsx)(v.A,{span:16,children:(0,A.jsx)(g.A,{onChange:e=>(e=>{var t;S(""!==e);const r=null===l||void 0===l||null===(t=l.result)||void 0===t?void 0:t.filter((t=>t.fulName.toLowerCase().includes(e.toLowerCase())));N(r)})(e.target.value)})}),(0,A.jsx)(v.A,{span:8,children:(0,A.jsx)(n.A,{type:"primary",icon:(0,A.jsx)(w.A,{}),style:{width:"100%"},onClick:()=>{t({type:p.aT,payload:""}),e("/user/add")},children:"Add"})})]}),(0,A.jsx)(f.A,{size:"medium",spinning:c||i,children:(0,A.jsx)(j,{data:I?u:null===l||void 0===l?void 0:l.result,deleteHandle:(e,t)=>{r({url:e,id:t})}})})]})})}}}]);
//# sourceMappingURL=204.6fb7e509.chunk.js.map