"use strict";(self.webpackChunkwonderfullcity_crm=self.webpackChunkwonderfullcity_crm||[]).push([[334],{4268:(e,r,t)=>{t.d(r,{A:()=>n});t(5043);var s=t(289),a=t(6558),i=t(579);const n=e=>{let{label:r,name:t,required:n,required_text:c,warning:l}=e;return(0,i.jsx)(s.A.Item,{label:l?(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:r}),(0,i.jsx)("br",{}),(0,i.jsx)("p",{children:l})]}):(0,i.jsx)("div",{children:r}),name:t,rules:[{required:n,message:c}],children:(0,i.jsx)(a.A,{})})}},8334:(e,r,t)=>{t.r(r),t.d(r,{default:()=>y});var s=t(289),a=t(8193),i=t(4435),n=t(1802),c=t(4124),l=t(9800),d=t(1645),o=t(8914),u=t(7407),h=t(8710),x=t(5043),p=t(9888),A=t(2907),m=t(4268),j=t(579);const f={title_uz:"",title_ru:"",sub_category:[]},v=e=>{let{data:r,refetch:t}=e;const[v]=s.A.useForm(),[g,y]=(0,x.useState)(!1),[w,b]=(0,x.useState)(null),{mutate:C,data:S,isLoading:_,isSuccess:k}=(0,A.useMutation)((e=>{let{url:r,data:t,id:s}=e;return p.A.editData(r,t,s)}),{onSuccess:()=>{a.Ay.success("Success")},onError:e=>{for(let r in e.response.data)a.Ay.error("".concat(r,": ").concat(e.response.data[r][0]))}}),z=e=>{C({url:"/Kurs",data:e,id:w})};(0,x.useEffect)((()=>{k&&(y(!1),v.setFieldsValue(f),t())}),[S]);const E=[{title:"\u0426\u0435\u043d\u0430",dataIndex:"price",id:"price",render:e=>(0,j.jsx)("p",{children:e})},{title:"Action",id:"action",render:(e,r)=>(0,j.jsx)(i.A,{size:20,children:(0,j.jsx)(n.A,{onClick:()=>{return e=r.id,y(!0),void b(e);var e},type:"primary",icon:(0,j.jsx)(u.A,{}),children:"Edit Status"})})}];return(0,j.jsxs)("div",{children:[(0,j.jsx)(c.A,{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0443\u0440\u0441",open:g,onOk:()=>{v.validateFields().then((e=>{z(e)})).catch((e=>{console.log("Failed:",e)}))},onCancel:()=>{y(!1)},children:_?(0,j.jsx)(h.HE,{}):(0,j.jsx)(s.A,{form:v,name:"basic",labelCol:{span:24},wrapperCol:{span:24},style:{maxWidth:"100%"},initialValues:f,onFinish:z,autoComplete:"off",children:(0,j.jsx)(l.A,{gutter:20,children:(0,j.jsx)(d.A,{span:24,children:(0,j.jsx)(m.A,{required:!0,required_text:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043a\u0443\u0440\u0441",label:"\u041a\u0443\u0440\u0441",name:"price"})})})})}),(0,j.jsx)(o.A,{columns:E,dataSource:r,rowKey:e=>null===e||void 0===e?void 0:e.id})]})};var g=t(5397);const y=()=>{const{data:e,isLoading:r,refetch:t}=(0,A.useQuery)("course-get",(()=>p.A.getDataByID("/Kurs",1)),{onError:e=>{a.Ay.error(e.message)}});return(0,j.jsx)("div",{className:"site-space-compact-wrapper",children:(0,j.jsx)(i.A,{direction:"vertical",style:{width:"100%"},children:(0,j.jsx)(g.A,{size:"medium",spinning:r,children:(0,j.jsx)(v,{data:[e],refetch:t})})})})}},7407:(e,r,t)=>{t.d(r,{A:()=>l});var s=t(9379),a=t(5043);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};var n=t(2172),c=function(e,r){return a.createElement(n.A,(0,s.A)((0,s.A)({},e),{},{ref:r,icon:i}))};const l=a.forwardRef(c)}}]);
//# sourceMappingURL=334.74d5c1fc.chunk.js.map